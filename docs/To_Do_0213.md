# To-Do List (2025ë…„ 2ì›” 13ì¼)

## ðŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”
**ëª©í‘œ:** Cafe24 ìƒí’ˆ ë°ì´í„° ì •ê·œí™”(Normalization) ìž‘ì—… ì™„ë£Œ

**í”„ë¡œì íŠ¸ ê²½ë¡œ:**
```
/Users/zart/Documents/í”„ë¡œì íŠ¸/Antigravity_Project/web_cadalog_ver10
```

---

## âœ… ì™„ë£Œëœ ìž‘ì—…

### 1. ì½”ë“œ ìž‘ì„± ì™„ë£Œ
- âœ… ì •ê·œí™” ìŠ¤í¬ë¦½íŠ¸: `scripts/phase2-group-prefix.js`
- âœ… API ë™ê¸°í™” ë¡œì§: `api/sync-products/route.ts`
- âœ… í† í° ê°±ì‹  ìŠ¤í¬ë¦½íŠ¸: `scripts/refresh-token.cjs` (CommonJS ë²„ì „)

### 2. Cafe24 ì¸ì¦ì •ë³´ í™•ì¸
- âœ… Mall ID: `daesan3833`
- âœ… Client ID: `5TbJGxFqFBOtlYEXoWL47D`
- âœ… Client Secret: `4dce36cd-8c57-45dc-880d-d067ffd84880`

---

## âŒ í˜„ìž¬ ë¬¸ì œ

### 401 Unauthorized ì—ëŸ¬
```bash
node scripts/refresh-token.cjs
# ê²°ê³¼: 401 Unauthorized
# ì›ì¸: Access Tokenê³¼ Refresh Tokenì´ ë§Œë£Œë¨
```

**ì—ëŸ¬ ì˜ë¯¸:**
- Client ID/Secretì€ ì •ìƒ
- Access Token, Refresh Tokenì´ ë§Œë£Œë˜ì–´ ì¸ì¦ ì‹¤íŒ¨
- Cafe24 API í˜¸ì¶œ ë¶ˆê°€

---

## ðŸŽ¯ ë‹¤ìŒ ë‹¨ê³„ (ìš°ì„ ìˆœìœ„ ìˆœ)

### 1ë‹¨ê³„: Cafe24 í† í° ìž¬ë°œê¸‰ â­ **ì§€ê¸ˆ í•  ì¼**

#### ë°©ë²•:
1. Cafe24 ê°œë°œìž ì„¼í„° ì ‘ì†: https://developers.cafe24.com/app/my
2. ë¡œê·¸ì¸ í›„ "ë‚˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜" í´ë¦­
3. ì•± ì„ íƒ (Client ID: `5TbJGxFqFBOtlYEXoWL47D`)
4. **"ì¸ì¦"** ë˜ëŠ” **"í† í° ê´€ë¦¬"** íƒ­ í´ë¦­
5. **"ìž¬ë°œê¸‰"** ë˜ëŠ” **"í† í° ë°œê¸‰"** ë²„íŠ¼ í´ë¦­

#### ë°›ì•„ì•¼ í•  ì •ë³´:
```
âœ“ Access Token (ì•¡ì„¸ìŠ¤ í† í°) - ê¸´ ë¬¸ìžì—´
âœ“ Refresh Token (ë¦¬í”„ë ˆì‹œ í† í°) - ê¸´ ë¬¸ìžì—´
```

---

### 2ë‹¨ê³„: .env.local íŒŒì¼ ì—…ë°ì´íŠ¸

#### í„°ë¯¸ë„ ëª…ë ¹:
```bash
cat > .env.local << 'EOF'
CAFE24_MALL_ID=daesan3833
CAFE24_CLIENT_ID=5TbJGxFqFBOtlYEXoWL47D
CAFE24_CLIENT_SECRET=4dce36cd-8c57-45dc-880d-d067ffd84880
CAFE24_ACCESS_TOKEN=ì—¬ê¸°ì—_ìƒˆë¡œ_ë°›ì€_ì•¡ì„¸ìŠ¤_í† í°
CAFE24_REFRESH_TOKEN=ì—¬ê¸°ì—_ìƒˆë¡œ_ë°›ì€_ë¦¬í”„ë ˆì‹œ_í† í°
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379
NODE_ENV=development
EOF
```

#### í™•ì¸:
```bash
cat .env.local | grep CAFE24
```

---

### 3ë‹¨ê³„: í† í° ê°±ì‹  í…ŒìŠ¤íŠ¸

```bash
node scripts/refresh-token.cjs
```

#### ì„±ê³µ ì‹œ ì¶œë ¥:
```
ðŸ”„ Refreshing token for daesan3833
ðŸ“¡ Status: 200
âœ… Token refreshed successfully!
New Access Token: xyz123...
âœ… .env.local updated!
```

---

### 4ë‹¨ê³„: ìƒí’ˆ ë°ì´í„° ë™ê¸°í™”

```bash
# ë°©ë²• 1: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
node scripts/phase2-group-prefix.js

# ë°©ë²• 2: API í˜¸ì¶œ
curl http://localhost:3000/api/sync-products
```

#### ì„±ê³µ ì‹œ ì¶œë ¥:
```
âœ… ë™ê¸°í™” ì™„ë£Œ: 50ê°œ ìƒí’ˆ ì²˜ë¦¬ë¨
ðŸ“Š ì •ê·œí™”ëœ ê·¸ë£¹: 15ê°œ
```

---

## ðŸ”§ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### ë¬¸ì œ 1: "Missing required environment variables"
**í•´ê²°:**
```bash
# .envì™€ .env.local ë‘˜ ë‹¤ ìƒì„±
cp .env.local .env
```

### ë¬¸ì œ 2: "require is not defined" ì—ëŸ¬
**í•´ê²°:**
```bash
# .cjs í™•ìž¥ìž ì‚¬ìš©
node scripts/refresh-token.cjs
```

### ë¬¸ì œ 3: 400 Bad Request
**ì›ì¸:** ìš”ì²­ í˜•ì‹ ì˜¤ë¥˜
**í•´ê²°:** Client Secret ìž¬í™•ì¸

### ë¬¸ì œ 4: 401 Unauthorized
**ì›ì¸:** í† í° ë§Œë£Œ â† **í˜„ìž¬ ìƒí™©**
**í•´ê²°:** Access Token + Refresh Token ìž¬ë°œê¸‰

---

## ðŸ“ ìž‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Cafe24 ê°œë°œìž ì„¼í„° ì ‘ì†
- [ ] Access Token ìž¬ë°œê¸‰
- [ ] Refresh Token ìž¬ë°œê¸‰
- [ ] .env.local íŒŒì¼ ì—…ë°ì´íŠ¸
- [ ] `node scripts/refresh-token.cjs` ì‹¤í–‰ (200 OK í™•ì¸)
- [ ] `node scripts/phase2-group-prefix.js` ì‹¤í–‰
- [ ] Redis ë°ì´í„° í™•ì¸
- [ ] ì •ê·œí™” ê²°ê³¼ í™•ì¸

---

## ðŸš¨ ì£¼ì˜ì‚¬í•­

### í† í° ë³µì‚¬ ì‹œ:
- âœ… ì•žë’¤ ê³µë°± ì œê±°
- âœ… ì „ì²´ ë¬¸ìžì—´ ë³µì‚¬
- âœ… ë”°ì˜´í‘œ ì—†ì´ ìž…ë ¥
- âŒ ì¼ë¶€ë§Œ ë³µì‚¬í•˜ì§€ ì•Šê¸°

### íŒŒì¼ ì €ìž¥ ì‹œ:
- `Ctrl+S` (Windows) ë˜ëŠ” `Cmd+S` (Mac)ë¡œ ì €ìž¥
- ì €ìž¥ í›„ í„°ë¯¸ë„ì—ì„œ í™•ì¸: `cat .env.local`

---

## ðŸ“Š ì˜ˆìƒ ì†Œìš” ì‹œê°„

| ë‹¨ê³„ | ìž‘ì—… | ì˜ˆìƒ ì‹œê°„ |
|------|------|-----------|
| 1 | Cafe24 í† í° ìž¬ë°œê¸‰ | 5ë¶„ |
| 2 | .env.local ì—…ë°ì´íŠ¸ | 2ë¶„ |
| 3 | í† í° ê°±ì‹  í…ŒìŠ¤íŠ¸ | 1ë¶„ |
| 4 | ìƒí’ˆ ë°ì´í„° ë™ê¸°í™” | 3ë¶„ |
| **í•©ê³„** | | **ì•½ 11ë¶„** |

---

## ðŸ”— ì°¸ê³  ë§í¬

- Cafe24 ê°œë°œìž ì„¼í„°: https://developers.cafe24.com
- Cafe24 API ë¬¸ì„œ: https://developers.cafe24.com/docs/api/admin
- í”„ë¡œì íŠ¸ ê²½ë¡œ: `/Users/zart/Documents/í”„ë¡œì íŠ¸/Antigravity_Project/web_cadalog_ver10`

---

## ðŸ’¡ ìž‘ì—… ìž¬ê°œ ì‹œ

ë‹¤ìŒ ëª…ë ¹ìœ¼ë¡œ ë¹ ë¥´ê²Œ ìƒíƒœ í™•ì¸:

```bash
# 1. í˜„ìž¬ ë””ë ‰í† ë¦¬ í™•ì¸
pwd

# 2. í™˜ê²½ë³€ìˆ˜ í™•ì¸
cat .env.local | grep CAFE24

# 3. í† í° ê°±ì‹  ì‹œë„
node scripts/refresh-token.cjs

# 4. ë°ì´í„° ë™ê¸°í™”
node scripts/phase2-group-prefix.js
```

---

## ðŸ“ž ì§ˆë¬¸/ë¬¸ì œ ë°œìƒ ì‹œ

### Claudeì—ê²Œ ë¬¼ì–´ë³¼ ê²ƒ:
1. "í† í° ìž¬ë°œê¸‰ì€ ì–´ë””ì„œ í•˜ë‚˜ìš”?"
2. "400/401 ì—ëŸ¬ê°€ ê³„ì† ë‚˜ìš”"
3. "í™˜ê²½ë³€ìˆ˜ê°€ ë¡œë“œ ì•ˆ ë¼ìš”"
4. "ë™ê¸°í™”ê°€ ì•ˆ ë¼ìš”"

### ë³´ë‚´ì£¼ì‹¤ ì •ë³´:
- ì—ëŸ¬ ë©”ì‹œì§€ ì „ì²´
- ì‹¤í–‰í•œ ëª…ë ¹ì–´
- ì¶œë ¥ ê²°ê³¼

---

## ðŸŽ¯ ìµœì¢… ëª©í‘œ

**ì •ê·œí™”ëœ ìƒí’ˆ ë°ì´í„° ìƒì„± ì™„ë£Œ**

ì˜ˆì‹œ:
```
ì›ë³¸: "í—ˆë¸Œì°¨ ìºëª¨ë§ˆì¼ 20í‹°ë°±", "ìºëª¨ë§ˆì¼ í—ˆë¸Œí‹° 30í‹°ë°±"
ì •ê·œí™”: "ìºëª¨ë§ˆì¼ í—ˆë¸Œì°¨" (ê·¸ë£¹)
```

---

**ìž‘ì„±ì¼:** 2025ë…„ 2ì›” 13ì¼  
**ìƒíƒœ:** í† í° ìž¬ë°œê¸‰ ëŒ€ê¸° ì¤‘  
**ë‹¤ìŒ ìž‘ì—…:** Cafe24ì—ì„œ Access Token + Refresh Token ìž¬ë°œê¸‰
