# ê¸°íš_UI_ver7_ìµœì¢… - Accordion + 1í–‰ ë ˆì´ì•„ì›ƒ

**ì‘ì„±ì¼:** 2025ë…„ 2ì›” 14ì¼  
**í”„ë¡œì íŠ¸:** web_cadalog_ver10  
**ë¸Œëœë“œ:** Daesan (ëŒ€ì‚°)  
**í•µì‹¬:** í•œ ë²ˆì— í•˜ë‚˜ë§Œ + ê¹”ë”í•œ 1í–‰

---

## ğŸ¯ í•µì‹¬ ë³€ê²½ì‚¬í•­

### 1. Accordion ë°©ì‹ (ë‹¨ì¼ í™•ì¥)
```
âŒ ver6: ì—¬ëŸ¬ ê·¸ë£¹ ë™ì‹œ í¼ì¹¨ ê°€ëŠ¥
âœ… ver7: í•œ ë²ˆì— í•˜ë‚˜ë§Œ ì—´ë¦¼
```

### 2. ìì‹ ìƒí’ˆ 1í–‰ í‘œì‹œ
```
âŒ ver6: 2í–‰ (ì¹˜ìˆ˜/ê°€ê²©, ìˆ˜ëŸ‰/ë‹´ê¸°)
âœ… ver7: 1í–‰ (ëª¨ë“  ì •ë³´ í•œ ì¤„)
```

---

## ğŸ¨ ì „ì²´ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Daesan | ğŸ” [ê²€ìƒ‰...] (Ctrl+K)     ğŸ›’ ì¥ë°”êµ¬ë‹ˆ (3) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                           â”‚
â”‚  [325] â† â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  [326]   â”‚  â”‚ LX ë‹¨ì—´ì¬ (3ê°œ) â–¾                    â”‚ â”‚
â”‚  [327]   â”‚  â”‚ â”œ 1220x2440 â‚©15k [- 1 +] [ë‹´ê¸°]     â”‚ â”‚
â”‚  [328]   â”‚  â”‚ â”œ 1220x3050 â‚©20k [- 1 +] [ë‹´ê¸°]     â”‚ â”‚
â”‚  [329]   â”‚  â”‚ â”” 915x2440  â‚©25k [- 1 +] [ë‹´ê¸°]     â”‚ â”‚
â”‚  [330]   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [331]   â”‚                                           â”‚
â”‚  [332]   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  [333]   â”‚  â”‚ ë°©í™”ë¬¸ (1ê°œ) â–¸                       â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”€â”€â”€â”€â”€   â”‚                                           â”‚
â”‚  âŒ‚ ì „ì²´  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚          â”‚  â”‚ ì„ê³ ë³´ë“œ (5ê°œ) â–¸                     â”‚ â”‚
â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ 1. Accordion êµ¬í˜„

### ìƒíƒœ ê´€ë¦¬ (ë‹¨ì¼ í™•ì¥)

```typescript
// âŒ ver6 - ì—¬ëŸ¬ ê°œ ë™ì‹œ ê°€ëŠ¥
const [expandedProducts, setExpandedProducts] = useState<Set<string>>(new Set());

// âœ… ver7 - í•˜ë‚˜ë§Œ ê°€ëŠ¥
const [expandedProduct, setExpandedProduct] = useState<string | null>(null);

const toggleExpand = (code: string) => {
  setExpandedProduct(prev => {
    // ê°™ì€ ê±° í´ë¦­í•˜ë©´ ë‹«ê¸°
    if (prev === code) return null;
    // ë‹¤ë¥¸ ê±° í´ë¦­í•˜ë©´ êµì²´
    return code;
  });
};

const isExpanded = (code: string) => expandedProduct === code;
```

### ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤

```
[ì´ˆê¸° ìƒíƒœ]
LX ë‹¨ì—´ì¬ â–¸
ë°©í™”ë¬¸ â–¸
ì„ê³ ë³´ë“œ â–¸

[LX í´ë¦­]
LX ë‹¨ì—´ì¬ â–¾
  â”œ 1220x2440 ...
  â”œ 1220x3050 ...
  â”” 915x2440 ...
ë°©í™”ë¬¸ â–¸
ì„ê³ ë³´ë“œ â–¸

[ë°©í™”ë¬¸ í´ë¦­]
LX ë‹¨ì—´ì¬ â–¸     â† ìë™ ë‹«í˜
ë°©í™”ë¬¸ â–¾         â† ì—´ë¦¼
  â”” 2400x900 ...
ì„ê³ ë³´ë“œ â–¸

[ë°©í™”ë¬¸ ë‹¤ì‹œ í´ë¦­]
LX ë‹¨ì—´ì¬ â–¸
ë°©í™”ë¬¸ â–¸         â† ë‹«í˜
ì„ê³ ë³´ë“œ â–¸
```

---

## ğŸ“¦ 2. ë¶€ëª¨ ì¹´ë“œ

### UI êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LX ë‹¨ì—´ì¬ (3ê°œ ì˜µì…˜) â–¸           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### êµ¬í˜„

```tsx
const ParentCard = ({ product, isExpanded, onToggle }) => {
  return (
    <div className="border rounded-lg overflow-hidden bg-white">
      {/* ë¶€ëª¨ í—¤ë” (í´ë¦­ ì˜ì—­) */}
      <button
        onClick={() => onToggle(product.code)}
        className={cn(
          "w-full text-left p-4",
          "hover:bg-gray-50 transition-colors",
          isExpanded && "bg-blue-50 border-b border-gray-200"
        )}
      >
        <div className="flex items-center justify-between">
          {/* ìƒí’ˆëª… + ì˜µì…˜ ìˆ˜ */}
          <div>
            <h3 className="text-base font-semibold text-[#222222]">
              {product.name}
            </h3>
            <p className="text-sm text-[#777777] mt-1">
              {product.children.length}ê°œ ì˜µì…˜
            </p>
          </div>
          
          {/* í™”ì‚´í‘œ */}
          {isExpanded ? (
            <ChevronDown className="w-5 h-5 text-[#FF6B6B]" />
          ) : (
            <ChevronRight className="w-5 h-5 text-gray-400" />
          )}
        </div>
      </button>
      
      {/* ìì‹ ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ */}
      <AnimatePresence>
        {isExpanded && (
          <motion.div
            initial={{ height: 0, opacity: 0 }}
            animate={{ height: "auto", opacity: 1 }}
            exit={{ height: 0, opacity: 0 }}
            transition={{ duration: 0.2, ease: "easeInOut" }}
          >
            {product.children.map((child, index) => (
              <ChildOption
                key={child.code}
                child={child}
                index={index}
                parentCode={product.code}
              />
            ))}
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
};
```

---

## ğŸ“¦ 3. ìì‹ ì˜µì…˜ ì¹´ë“œ (1í–‰ ë ˆì´ì•„ì›ƒ)

### UI êµ¬ì¡° (1í–‰)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1220 x 2440mm    â‚©15,000    [- 1 +]    [ë‹´ê¸°]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### êµ¬í˜„

```tsx
const ChildOption = ({ child, index, parentCode }) => {
  const [quantity, setQuantity] = useState(1);
  const [isFocused, setIsFocused] = useState(false);
  const ref = useRef<HTMLDivElement>(null);
  
  // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
  useEffect(() => {
    if (isFocused) {
      ref.current?.scrollIntoView({ 
        behavior: 'smooth', 
        block: 'nearest' 
      });
    }
  }, [isFocused]);
  
  const handleKeyDown = (e: KeyboardEvent) => {
    if (!isFocused) return;
    
    switch(e.key) {
      case 'Enter':
        handleAddToCart();
        break;
      case 'ArrowUp':
        focusPrevOption(parentCode, index);
        break;
      case 'ArrowDown':
        focusNextOption(parentCode, index);
        break;
      case '+':
      case '=':
        setQuantity(q => q + 1);
        break;
      case '-':
        setQuantity(q => Math.max(1, q - 1));
        break;
    }
  };
  
  const handleAddToCart = () => {
    addToCart(child, quantity);
    setQuantity(1); // ë‹´ê¸° í›„ ì´ˆê¸°í™”
  };
  
  return (
    <div
      ref={ref}
      tabIndex={0}
      data-option-index={`${parentCode}-${index}`}
      onFocus={() => setIsFocused(true)}
      onBlur={() => setIsFocused(false)}
      onKeyDown={handleKeyDown}
      className={cn(
        "px-4 py-3 border-t border-gray-100 first:border-t-0",
        "hover:bg-gray-50 transition-colors cursor-pointer",
        isFocused && "bg-blue-50 ring-2 ring-inset ring-[#FF6B6B]"
      )}
    >
      {/* 1í–‰ ë ˆì´ì•„ì›ƒ */}
      <div className="flex items-center justify-between gap-4">
        {/* ì¹˜ìˆ˜ (ì™¼ìª½) */}
        <span className="text-sm font-medium text-[#222222] min-w-[120px]">
          {child.dimensions.width} x {child.dimensions.height}mm
        </span>
        
        {/* ê°€ê²© */}
        <span className="text-base font-bold text-[#222222] min-w-[80px]">
          â‚©{(child.price / 1000).toFixed(0)}k
        </span>
        
        {/* ìˆ˜ëŸ‰ ì„ íƒ */}
        <div className="flex items-center border border-gray-300 rounded">
          <button
            onClick={(e) => {
              e.stopPropagation();
              setQuantity(q => Math.max(1, q - 1));
            }}
            disabled={quantity <= 1}
            className={cn(
              "px-2 py-1 hover:bg-gray-100 transition-colors",
              quantity <= 1 && "opacity-50 cursor-not-allowed"
            )}
          >
            -
          </button>
          <input
            type="number"
            value={quantity}
            onChange={(e) => {
              const val = parseInt(e.target.value);
              setQuantity(isNaN(val) ? 1 : Math.max(1, val));
            }}
            onDoubleClick={(e) => e.currentTarget.select()}
            onClick={(e) => e.stopPropagation()}
            className="w-12 text-center border-x border-gray-300 py-1 text-sm focus:outline-none"
          />
          <button
            onClick={(e) => {
              e.stopPropagation();
              setQuantity(q => q + 1);
            }}
            className="px-2 py-1 hover:bg-gray-100 transition-colors"
          >
            +
          </button>
        </div>
        
        {/* ë‹´ê¸° ë²„íŠ¼ */}
        <button
          onClick={(e) => {
            e.stopPropagation();
            handleAddToCart();
          }}
          className="px-4 py-1.5 bg-[#FF6B6B] text-white text-sm font-medium rounded hover:bg-[#E55A5A] transition-colors"
        >
          ë‹´ê¸°
        </button>
      </div>
    </div>
  );
};
```

### ë ˆì´ì•„ì›ƒ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì¹˜ìˆ˜    â”‚ ê°€ê²© â”‚ ìˆ˜ëŸ‰     â”‚ ë‹´ê¸°   â”‚
â”‚ 120px   â”‚ 80px â”‚ 100px    â”‚ 60px   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŠ¹ì§•:**
1. âœ… ëª¨ë“  ì •ë³´ 1í–‰ í‘œì‹œ
2. âœ… ê°€ê²© ê°„ëµí™” (â‚©15,000 â†’ â‚©15k)
3. âœ… ì»´íŒ©íŠ¸í•œ ìˆ˜ëŸ‰ UI
4. âœ… ë‹´ê¸° ë²„íŠ¼ ìµœì†Œ í¬ê¸°

---

## ğŸ¬ ì‚¬ìš©ì í”Œë¡œìš°

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë‹¨ì¼ í™•ì¥ (Accordion)

```
1. "LX ë‹¨ì—´ì¬" í´ë¦­
   â†“
2. ìì‹ ì˜µì…˜ 3ê°œ í¼ì³ì§
   â†“
3. "ë°©í™”ë¬¸" í´ë¦­
   â†“
4. LX ë‹¨ì—´ì¬ ìë™ ë‹«í˜
   ë°©í™”ë¬¸ í¼ì³ì§
   â†“
5. ëª…í™•í•œ í¬ì»¤ìŠ¤
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë¹ ë¥¸ ì£¼ë¬¸

```
1. "LX ë‹¨ì—´ì¬" í´ë¦­
   â†“
2. "1220 x 2440mm" í–‰ í™•ì¸
   â‚©15k [- 1 +] [ë‹´ê¸°]
   â†“
3. [+] 4ë²ˆ í´ë¦­ (ìˆ˜ëŸ‰ 5)
   â†“
4. [ë‹´ê¸°] í´ë¦­
   â†“
5. Toast: "âœ“ 5ê°œ ì¶”ê°€ë¨"
```

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: í‚¤ë³´ë“œ (ìë™ ìŠ¤í¬ë¡¤)

```
1. â†“ í‚¤ë¡œ "LX ë‹¨ì—´ì¬" ì´ë™
   â†“
2. Enter â†’ í™•ì¥
   â†“
3. â†“ í‚¤ë¡œ "1220 x 2440mm" ì˜µì…˜ ì´ë™
   (ìë™ ìŠ¤í¬ë¡¤)
   â†“
4. + í‚¤ 4ë²ˆ (ìˆ˜ëŸ‰ 5)
   â†“
5. Enter â†’ ë‹´ê¸°
```

---

## ğŸ“± ë°˜ì‘í˜• (1í–‰ ìœ ì§€)

### ë°ìŠ¤í¬í†± (>= 1024px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1220 x 2440mmâ”‚ â‚©15,000 â”‚ [- 1 +]  â”‚ [ë‹´ê¸°] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### íƒœë¸”ë¦¿ (768px ~ 1024px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1220x2440mmâ”‚ â‚©15k   â”‚ [- 1 +]â”‚ [ë‹´ê¸°] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ëª¨ë°”ì¼ (< 768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1220x2440  â‚©15k  [1] [ë‹´ê¸°]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ëª¨ë°”ì¼ ìµœì í™”:**
- ì¹˜ìˆ˜: `1220x2440` (ê³µë°± ì œê±°)
- ê°€ê²©: `â‚©15k` (ê°„ëµ)
- ìˆ˜ëŸ‰: `[1]` (ì¦ê° ë²„íŠ¼ ìˆ¨ê¹€, í´ë¦­ ì‹œ í™•ì¥)

---

## ğŸ”‘ í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜

### ë¶€ëª¨ ë ˆë²¨

```
â†‘â†“ : ë¶€ëª¨ ìƒí’ˆ ê°„ ì´ë™
Enter/Space : í™•ì¥/ë‹«ê¸°
â†’ : í™•ì¥ (ë‹«íŒ ê²½ìš°)
â† : ë‹«ê¸° (í¼ì¹œ ê²½ìš°)
```

### ìì‹ ë ˆë²¨

```
â†‘â†“ : ìì‹ ì˜µì…˜ ê°„ ì´ë™ (ìë™ ìŠ¤í¬ë¡¤)
Enter : ë‹´ê¸°
+/= : ìˆ˜ëŸ‰ ì¦ê°€
- : ìˆ˜ëŸ‰ ê°ì†Œ
ESC : ë¶€ëª¨ë¡œ í¬ì»¤ìŠ¤ ì´ë™
```

### êµ¬í˜„

```typescript
const handleParentKeyDown = (e: KeyboardEvent, code: string) => {
  switch(e.key) {
    case 'Enter':
    case ' ':
      toggleExpand(code);
      break;
    case 'ArrowRight':
      if (!isExpanded(code)) toggleExpand(code);
      break;
    case 'ArrowLeft':
      if (isExpanded(code)) toggleExpand(code);
      break;
    case 'ArrowDown':
      focusNextParent(code);
      break;
    case 'ArrowUp':
      focusPrevParent(code);
      break;
  }
};
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### 1. Virtualization ì ìš©

```typescript
const shouldVirtualize = products.length > 50;

{shouldVirtualize ? (
  <FixedSizeList
    height={window.innerHeight - 64}
    itemCount={products.length}
    itemSize={isExpanded(product.code) ? 200 : 80}
    width="100%"
  >
    {({ index, style }) => (
      <div style={style}>
        <ParentCard product={products[index]} />
      </div>
    )}
  </FixedSizeList>
) : (
  products.map(product => (
    <ParentCard key={product.code} product={product} />
  ))
)}
```

---

### 2. Accordion ì• ë‹ˆë©”ì´ì…˜ ìµœì í™”

```tsx
<motion.div
  initial={{ height: 0, opacity: 0 }}
  animate={{ height: "auto", opacity: 1 }}
  exit={{ height: 0, opacity: 0 }}
  transition={{ 
    duration: 0.2,
    ease: "easeInOut"
  }}
  style={{ overflow: "hidden" }}
>
  {/* ìì‹ ì˜µì…˜ */}
</motion.div>
```

---

## ğŸ“Š ë°ì´í„° íë¦„

### ìƒíƒœ ê´€ë¦¬ (Zustand)

```typescript
interface CatalogStore {
  // ìƒí’ˆ
  products: Product[];
  filteredProducts: Product[];
  
  // í™•ì¥ ìƒíƒœ (ë‹¨ì¼)
  expandedProduct: string | null;
  setExpandedProduct: (code: string | null) => void;
  toggleExpand: (code: string) => void;
  
  // ê²€ìƒ‰
  searchQuery: string;
  setSearchQuery: (query: string) => void;
  
  // ì¹´í…Œê³ ë¦¬
  activeCategory: number | null;
  setActiveCategory: (cat: number | null) => void;
  
  // ì¥ë°”êµ¬ë‹ˆ
  cart: CartItem[];
  addToCart: (product: Product, quantity: number) => void;
}

const useCatalogStore = create<CatalogStore>((set, get) => ({
  products: [],
  filteredProducts: [],
  expandedProduct: null,
  
  setExpandedProduct: (code) => set({ expandedProduct: code }),
  
  toggleExpand: (code) => set((state) => ({
    expandedProduct: state.expandedProduct === code ? null : code
  })),
  
  // ...
}));
```

---

## âœ… ê²€ì¦ ê¸°ì¤€

| í…ŒìŠ¤íŠ¸ | ê¸°ì¤€ | ì¸¡ì • ë°©ë²• |
|--------|------|-----------|
| TEST-1 | ë‹¨ì¼ í™•ì¥ ë™ì‘ | expandedProduct ê°’ |
| TEST-2 | ìƒˆ ê·¸ë£¹ í´ë¦­ ì‹œ ê¸°ì¡´ ë‹«í˜ | ìƒíƒœ ë³€í™” í™•ì¸ |
| TEST-3 | ìì‹ 1í–‰ í‘œì‹œ | í™”ë©´ ë†’ì´ ì¸¡ì • |
| TEST-4 | í‚¤ë³´ë“œ ìë™ ìŠ¤í¬ë¡¤ | scrollIntoView |
| TEST-5 | ê°€ê²© ê°„ëµí™” (â‚©15k) | í‘œì‹œ í™•ì¸ |
| TEST-6 | ìˆ˜ëŸ‰ ì´ˆê¸°í™” (ë‹´ê¸° í›„) | ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ |
| TEST-7 | ëª¨ë°”ì¼ 1í–‰ ìœ ì§€ | ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸ |

---

## ğŸš€ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: Accordion (í•„ìˆ˜)
```typescript
// ë‹¨ì¼ í™•ì¥ ìƒíƒœ
const [expandedProduct, setExpandedProduct] = useState<string | null>(null);

const toggleExpand = (code: string) => {
  setExpandedProduct(prev => prev === code ? null : code);
};
```

### Phase 2: 1í–‰ ë ˆì´ì•„ì›ƒ (í•„ìˆ˜)
```tsx
<div className="flex items-center justify-between gap-4">
  <span>1220 x 2440mm</span>
  <span>â‚©15k</span>
  <div>[- 1 +]</div>
  <button>[ë‹´ê¸°]</button>
</div>
```

### Phase 3: í‚¤ë³´ë“œ + ìŠ¤í¬ë¡¤ (ê¶Œì¥)
```typescript
element.scrollIntoView({ 
  behavior: 'smooth', 
  block: 'nearest' 
});
```

### Phase 4: ì„±ëŠ¥ ìµœì í™” (ì„ íƒ)
```
- react-window (50ê°œ ì´ìƒ)
- ì• ë‹ˆë©”ì´ì…˜ ìµœì í™”
- ë©”ëª¨ì´ì œì´ì…˜
```

---

## ğŸ“š ì½”ë”© ì—ì´ì „ì‹œ ì „ë‹¬ ì‚¬í•­

### ì¦‰ì‹œ êµ¬í˜„ í•„ìš”

```typescript
// 1. Accordion ìƒíƒœ
const [expandedProduct, setExpandedProduct] = useState<string | null>(null);

// 2. 1í–‰ ë ˆì´ì•„ì›ƒ
<div className="flex items-center justify-between gap-4 p-3">
  <span className="min-w-[120px]">{dimensions}</span>
  <span className="min-w-[80px]">{price}</span>
  <QuantityInput />
  <AddButton />
</div>

// 3. ê°€ê²© ê°„ëµí™”
const formatPrice = (price: number) => {
  return `â‚©${(price / 1000).toFixed(0)}k`;
};
```

### ë³€ê²½ì‚¬í•­ ìš”ì•½

```
âœ… Set<string> â†’ string | null (ë‹¨ì¼ í™•ì¥)
âœ… 2í–‰ â†’ 1í–‰ ë ˆì´ì•„ì›ƒ
âœ… â‚©15,000 â†’ â‚©15k (ê°„ëµí™”)
âœ… ìë™ ë‹«í˜ ë™ì‘
```

### ì„±ê³µ ê¸°ì¤€

```
1. í•œ ë²ˆì— í•˜ë‚˜ë§Œ ì—´ë¦¼ âœ“
2. ìƒˆ ê·¸ë£¹ í´ë¦­ ì‹œ ìë™ ë‹«í˜ âœ“
3. ìì‹ 1í–‰ í‘œì‹œ âœ“
4. ëª¨ë“  ì •ë³´ í•œ ì¤„ì— âœ“
```

---

**ì‘ì„± ì™„ë£Œ:** 2025ë…„ 2ì›” 14ì¼  
**ìƒíƒœ:** ver7 ìµœì¢… ì™„ì„±  
**ë‹¤ìŒ:** Phase 1-4 êµ¬í˜„ ì‹œì‘
