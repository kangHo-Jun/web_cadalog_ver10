[대분류 정의]
- `src/config/quote-categories.ts` / `QUOTE_CATEGORIES` (상수): 대분류 기준 데이터는 `category_no` 325, 326, 327, 328, 329, 330, 331이고 각 항목 `category_depth: 1`, `parent_category_no: null`로 정의됨 (`src/config/quote-categories.ts:17-81`).
- `src/config/quote-categories.ts` / `QUOTE_CATEGORIES` (상수): 332, 333은 `category_depth: 2`, `parent_category_no: 327`로 정의됨 (`src/config/quote-categories.ts:40-52`).
- `src/components/CategorySection.tsx` / `CategorySection` (컴포넌트): 대분류 렌더링용 필터는 `categories.filter(cat => cat.category_depth === 1)` (`src/components/CategorySection.tsx:26`).
- `src/components/QuoteCatalog.tsx` / `isRootCategoryNo` (함수): 루트 판정은 `parent_category_no === null || undefined` 비교 사용 (`src/components/QuoteCatalog.tsx:151-156`).

[중분류 생성 로직]
- `src/components/QuoteCatalog.tsx` / `handleCategoryChange` (함수): 대분류 클릭 시 `setSelectedCategory(catNo)`, `setSelectedSubCategory(null)`, `setSubCategories(nextSubCategories)` 실행 (`src/components/QuoteCatalog.tsx:199-241`).
- `src/components/QuoteCatalog.tsx` / `handleCategoryChange` (함수): 중분류 계산은 `mapSubCategories(QUOTE_CATEGORIES, catNo)` 호출 (`src/components/QuoteCatalog.tsx:202`).
- `src/utils/category-mapper.ts` / `mapSubCategories` (함수): 중분류 필터 조건은 `cat.parent_category_no === selectedRootCategoryNo` (`src/utils/category-mapper.ts:24`).
- `src/utils/category-mapper.ts` / `mapSubCategories` (함수): selected root 유효성은 `isRootCategory(selectedRoot)`로 검사, `isRootCategory`는 `parent_category_no === null || undefined` 사용 (`src/utils/category-mapper.ts:10-12,21-23`).
- `src/components/QuoteCatalog.tsx` / `handleSubCategoryChange` (함수): 중분류 클릭 유효성도 `sub.category_no === subCatNo && sub.parent_category_no === selectedCategory` 조건 사용 (`src/components/QuoteCatalog.tsx:246-250`).

[소분류/상품 연결 방식]
- `src/components/QuoteCatalog.tsx` / `handleSubCategoryChange` (함수): 중분류 클릭 시 `setSelectedSubCategory(subCatNo)`로 선택된 중분류 `category_no` 저장 (`src/components/QuoteCatalog.tsx:264`).
- `src/components/QuoteCatalog.tsx` / 컴포넌트 본문: `activeCategoryNo = selectedSubCategory || selectedCategory` (`src/components/QuoteCatalog.tsx:319`).
- `src/components/QuoteCatalog.tsx` / SWR key 생성: 상품 API 호출 파라미터 `category=${activeCategoryNo || ''}` (`src/components/QuoteCatalog.tsx:403-406`).
- `src/app/api/products/route.ts` / `GET` (함수): `type=quote|price`일 때 `category`가 있으면 `[Number(category)]`만 조회 (`src/app/api/products/route.ts:17-19`), 없으면 `QUOTE_CATEGORY_NOS` 전체 조회 (`src/app/api/products/route.ts:18`).
- `src/app/api/products/route.ts` / `GET` (함수): Cafe24 호출 파라미터는 `apiClient.get('/products', { params: { category: catNo, ... }})` (`src/app/api/products/route.ts:21-27`).
- depth 기준: 상품 조회에서 `category_depth` 값으로 필터링하는 로직 없음. 실제 전달 카테고리는 선택 상태에 따라 depth=1(대분류) 또는 depth=2(중분류: 332/333) 값임 (`src/components/QuoteCatalog.tsx:319,403`, `src/app/api/products/route.ts:18-27`).

[전체 데이터 흐름]
- `src/components/CategorySection.tsx` / `CategorySection`: 대분류 버튼 클릭 `onCategoryChange(category.category_no)` (`src/components/CategorySection.tsx:32-36`).
- `src/components/QuoteCatalog.tsx` / `handleCategoryChange`: 클릭 → `selectedCategory` 변경, `selectedSubCategory` 초기화, `subCategories` 재계산(`mapSubCategories`) (`src/components/QuoteCatalog.tsx:199-241`).
- `src/components/CategorySection.tsx` / `CategorySection`: `subCategories.map(...)`로 중분류 버튼 렌더 (`src/components/CategorySection.tsx:51-73`).
- `src/components/CategorySection.tsx` / `CategorySection`: 중분류 버튼 클릭 `onSubCategoryChange(sub.category_no)` (`src/components/CategorySection.tsx:59-63`).
- `src/components/QuoteCatalog.tsx` / `handleSubCategoryChange`: 클릭 → `selectedSubCategory` 변경 (`src/components/QuoteCatalog.tsx:243-266`).
- `src/components/QuoteCatalog.tsx` / SWR: 상태 기반 `productKey` 생성(`/api/products?type=${mode}&keyword=${debouncedSearch}&category=${activeCategoryNo || ''}`) 후 조회 (`src/components/QuoteCatalog.tsx:403-412`).
- API 경로:
  - 카테고리: 클라이언트 `GET /api/categories?type=quote` (`src/components/QuoteCatalog.tsx:269`) → 서버 `src/app/api/categories/route.ts`에서 `QUOTE_CATEGORIES` 반환 (`src/app/api/categories/route.ts:16-19`).
  - 상품: 클라이언트 `GET /api/products?...` (`src/components/QuoteCatalog.tsx:403`) → 서버 `src/app/api/products/route.ts` (`src/app/api/products/route.ts:9`) → 외부 `apiClient.get('/products', ...)` (`src/app/api/products/route.ts:22,69`).
