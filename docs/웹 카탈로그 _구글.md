# **\[통합 개발 명세서\] Phase 1: 계층형 카테고리 데이터 및 UI 구축**

**수신:** 코딩 에이전시 (Coding Agent) **발신:** 개발 감독자 (Technical Director) **목표:** Cafe24 API 기반 대/중분류 데이터 매핑 및 Google Style 필터 UI 완성

---

## **1\. WHAT: 구현 대상 (Functional Scope)**

### **1.1 데이터 계층 구조 (Data Hierarchy)**

Cafe24의 Flat한 데이터를 아래와 같은 위계로 재구성한다.

* **대분류 (Root):** `parent_category_no`가 없는 항목 (예: 각재/목재 ID 327\)  
* **중분류 (Child):** 특정 대분류를 부모로 둔 항목 (예: 소송 ID 332, 뉴송 ID 333\)

### **1.2 핵심 UI 구성 요소**

* **Main Navigation:** 상단 고정형 탭 (대분류 선택).  
* **Sub Filter Bar:** 선택된 대분류에 종속된 중분류들을 '칩(Chip)' 형태로 나열.  
* **Product Grid:** 선택된 카테고리의 결과물을 보여줄 카드 레이아웃.

---

## **2\. HOW: 기술적 지침 (Technical Guidelines)**

### **2.1 데이터 처리 로직 (`utils/category-mapper.ts`)**

에이전시는 다음 로직을 최우선으로 구현한다.

1. **추출:** Cafe24 API 응답 배열에서 `parent_category_no`가 327(각재/목재)인 항목만 필터링하는 함수를 작성한다.  
2. **검증:** 추출된 데이터가 `SubCategory` 인터페이스 규격을 준수하는지 확인한다.  
3. **안전장치:** 하위 카테고리가 없는 경우 에러를 내지 않고 빈 배열(`[]`)을 반환한다.

### **2.2 UI 구현 가이드 (`components/CategorySection.tsx`)**

* **Google Design System:** 여백을 충분히 활용하고, 선(Line)보다는 면(Surface)과 색상(Blue-50)으로 상태를 구분한다.  
* **상태 관리:** 대분류 변경 시 중분류의 '선택 상태'를 즉시 초기화(Reset)하여 데이터 불일치를 방지한다.  
* **애니메이션:** `Framer Motion`을 활용하여 중분류 칩이 나타날 때 아래에서 위로(y: 10 \-\> 0\) 부드럽게 페이드인한다.

---

## **3\. 검증용 기준 테스트 (Must Pass)**

* **T1:** 대분류 '각재/목재' 클릭 시 중분류 '소송', '뉴송' 칩이 화면에 노출되는가?  
* **T2:** 중분류 칩 클릭 시 해당 `category_no`가 상태값에 정확히 반영되는가?  
* **T3:** 다른 대분류로 이동 시 이전의 중분류 칩들이 화면에서 즉시 사라지는가?

